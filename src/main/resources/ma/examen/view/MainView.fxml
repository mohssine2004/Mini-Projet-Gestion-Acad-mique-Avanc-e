<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx/8"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="ma.examen.controller.MainController"
            prefHeight="700.0"
            prefWidth="1200.0"
            stylesheets="@../style/application.css"
            style="-fx-background-color: #f4f6f9;">

    <!-- ================= MODERN SIDEBAR ================= -->
    <left>
        <VBox spacing="8" styleClass="sidebar" prefWidth="240.0"
              style="-fx-background-color: #1e293b; -fx-padding: 24;">
            <children>
                <!-- App Logo/Title -->
                <VBox spacing="8" style="-fx-padding: 0 0 20 0;">
                    <children>
                        <Label text="ðŸŽ“ SystÃ¨me AcadÃ©mique"
                               style="-fx-text-fill: white; -fx-font-size: 18px; -fx-font-weight: bold;"/>
                        <Label text="Gestion AvancÃ©e"
                               style="-fx-text-fill: #94a3b8; -fx-font-size: 12px;"/>
                    </children>
                </VBox>

                <!-- Separator -->
                <Separator style="-fx-background-color: #334155; -fx-padding: 8 0;"/>

                <!-- Navigation Menu -->
                <VBox spacing="6" style="-fx-padding: 12 0 0 0;">
                    <children>
                        <Label text="NAVIGATION"
                               style="-fx-text-fill: #94a3b8; -fx-font-size: 11px; -fx-font-weight: 600; -fx-padding: 8 12 4 12;"/>

                        <Button text="ðŸ“š FiliÃ¨res"
                                fx:id="btnFilieres"
                                maxWidth="Infinity"
                                styleClass="sidebar-button"
                                onAction="#showFiliereModule"
                                style="-fx-background-color: transparent; -fx-text-fill: #e2e8f0; -fx-font-size: 14px; -fx-alignment: CENTER_LEFT; -fx-padding: 12 16; -fx-background-radius: 8; -fx-cursor: hand;"/>

                        <Button text="ðŸ‘¥ Ã‰tudiants"
                                fx:id="btnEtudiants"
                                maxWidth="Infinity"
                                styleClass="sidebar-button"
                                onAction="#showEleveModule"
                                style="-fx-background-color: transparent; -fx-text-fill: #e2e8f0; -fx-font-size: 14px; -fx-alignment: CENTER_LEFT; -fx-padding: 12 16; -fx-background-radius: 8; -fx-cursor: hand;"/>

                        <Button text="ðŸ“– Cours"
                                fx:id="btnCours"
                                maxWidth="Infinity"
                                styleClass="sidebar-button"
                                onAction="#showCoursModule"
                                style="-fx-background-color: transparent; -fx-text-fill: #e2e8f0; -fx-font-size: 14px; -fx-alignment: CENTER_LEFT; -fx-padding: 12 16; -fx-background-radius: 8; -fx-cursor: hand;"/>
                    </children>
                </VBox>

                <!-- Spacer to push footer to bottom -->
                <Pane VBox.vgrow="ALWAYS"/>

                <!-- Footer Info -->
                <VBox spacing="4" style="-fx-padding: 12; -fx-background-color: #0f172a; -fx-background-radius: 8;">
                    <children>
                        <Label text="ðŸ‘¤ Admin"
                               style="-fx-text-fill: white; -fx-font-size: 13px; -fx-font-weight: 600;"/>
                        <Label text="SystÃ¨me v1.0"
                               style="-fx-text-fill: #64748b; -fx-font-size: 11px;"/>
                    </children>
                </VBox>
            </children>
        </VBox>
    </left>

    <!-- ================= MAIN CONTENT AREA ================= -->
    <center>
        <BorderPane style="-fx-background-color: #f4f6f9;">

            <!-- Top Header Bar -->
            <top>
                <HBox alignment="CENTER_LEFT" spacing="20"
                      style="-fx-background-color: white; -fx-padding: 20 30; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.04), 8, 0, 0, 2);">
                    <children>
                        <VBox spacing="2" HBox.hgrow="ALWAYS">
                            <children>
                                <Label fx:id="lblModuleTitle" text="Dashboard"
                                       style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #111827;"/>
                                <Label fx:id="lblModuleSubtitle" text="Bienvenue dans votre systÃ¨me de gestion acadÃ©mique"
                                       style="-fx-font-size: 13px; -fx-text-fill: #6b7280;"/>
                            </children>
                        </VBox>

                        <!-- Quick Stats or Actions (Optional) -->
                        <HBox spacing="12" alignment="CENTER_RIGHT">
                            <children>
                                <VBox alignment="CENTER" spacing="2"
                                      style="-fx-background-color: #eff6ff; -fx-padding: 12 16; -fx-background-radius: 10;">
                                    <children>
                                        <Label text="ðŸ“Š" style="-fx-font-size: 20px;"/>
                                        <Label fx:id="lblStats" text="Statistiques"
                                               style="-fx-font-size: 11px; -fx-text-fill: #1e40af; -fx-font-weight: 600;"/>
                                    </children>
                                </VBox>
                            </children>
                        </HBox>
                    </children>
                </HBox>
            </top>

            <!-- Dynamic Content Area (IMPORTANT) -->
            <center>
                <StackPane fx:id="contentArea" style="-fx-background-color: #f4f6f9;">
                    <padding>
                        <Insets top="24" right="24" bottom="24" left="24"/>
                    </padding>

                    <!-- Default Welcome Screen -->
                    <VBox alignment="CENTER" spacing="20">
                        <children>
                            <Label text="ðŸŽ“" style="-fx-font-size: 64px;"/>
                            <Label text="Bienvenue dans le SystÃ¨me de Gestion AcadÃ©mique"
                                   style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #111827;"/>
                            <Label text="SÃ©lectionnez un module dans le menu de gauche pour commencer"
                                   style="-fx-font-size: 14px; -fx-text-fill: #6b7280;"/>

                            <!-- Quick Access Cards -->
                            <HBox spacing="16" alignment="CENTER" style="-fx-padding: 20 0 0 0;">
                                <children>
                                    <VBox alignment="CENTER" spacing="12"
                                          style="-fx-background-color: white; -fx-padding: 24; -fx-background-radius: 12; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.06), 15, 0, 0, 2); -fx-cursor: hand;"
                                          onMouseClicked="#showFiliereModule">
                                        <children>
                                            <Label text="ðŸ“š" style="-fx-font-size: 32px;"/>
                                            <Label text="FiliÃ¨res"
                                                   style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #111827;"/>
                                            <Label text="GÃ©rer les formations"
                                                   style="-fx-font-size: 12px; -fx-text-fill: #6b7280;"/>
                                        </children>
                                    </VBox>

                                    <VBox alignment="CENTER" spacing="12"
                                          style="-fx-background-color: white; -fx-padding: 24; -fx-background-radius: 12; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.06), 15, 0, 0, 2); -fx-cursor: hand;"
                                          onMouseClicked="#showEleveModule">
                                        <children>
                                            <Label text="ðŸ‘¥" style="-fx-font-size: 32px;"/>
                                            <Label text="Ã‰tudiants"
                                                   style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #111827;"/>
                                            <Label text="GÃ©rer les Ã©tudiants"
                                                   style="-fx-font-size: 12px; -fx-text-fill: #6b7280;"/>
                                        </children>
                                    </VBox>

                                    <VBox alignment="CENTER" spacing="12"
                                          style="-fx-background-color: white; -fx-padding: 24; -fx-background-radius: 12; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.06), 15, 0, 0, 2); -fx-cursor: hand;"
                                          onMouseClicked="#showCoursModule">
                                        <children>
                                            <Label text="ðŸ“–" style="-fx-font-size: 32px;"/>
                                            <Label text="Cours"
                                                   style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #111827;"/>
                                            <Label text="GÃ©rer les cours"
                                                   style="-fx-font-size: 12px; -fx-text-fill: #6b7280;"/>
                                        </children>
                                    </VBox>
                                </children>
                            </HBox>
                        </children>
                    </VBox>
                </StackPane>
            </center>

        </BorderPane>
    </center>

</BorderPane>